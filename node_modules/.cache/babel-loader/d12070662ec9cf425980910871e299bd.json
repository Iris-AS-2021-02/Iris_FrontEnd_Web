{"ast":null,"code":"var _jsxFileName = \"/home/kevin/Documents/GitHub/Iris_FrontEnd_Web/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport React from 'react';\nimport { graphql } from '@apollo/react-hoc';\nimport { gql, useQuery } from '@apollo/client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordIncorret, setPasswordIncorret] = useState(false);\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(gql`\n  query {\n    usersByNumber(number : \"${username}\") {\n      Name\n      Number\n    } \n  },\n  `);\n\n  const isVerifiedUser = () => {\n    var _data$usersByNumber;\n\n    return (data === null || data === void 0 ? void 0 : (_data$usersByNumber = data.usersByNumber) === null || _data$usersByNumber === void 0 ? void 0 : _data$usersByNumber.Name) === password;\n  };\n\n  const login = () => {\n    console.log(\"username\", username, \"password\", password, data);\n\n    if (isVerifiedUser()) {\n      setPasswordIncorret(false);\n      navigation.navigate('Home');\n    } else {\n      setPasswordIncorret(true);\n    }\n  };\n\n  const goToSignUp = () => {\n    console.log(username);\n    console.log(password);\n    setPasswordIncorret(false);\n    navigation.navigate('SignUp');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      flex: 1,\n      marginTop: '50%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: \"Insert username\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"pas\",\n      isRequired: true,\n      value: username,\n      onChangeText: username => setUsername(username)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: \"Insert password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"username\",\n      secureTextEntry: true,\n      isRequired: true,\n      value: password,\n      onChangeText: password => setPassword(password),\n      asterik: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), passwordIncorret && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: 'center',\n        color: 'red'\n      },\n      children: \"password or username incorrect\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 29\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: 12\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onPress: login,\n        title: \"Login\",\n        color: 'pink'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: 12\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onPress: goToSignUp,\n        title: \"Sign up\",\n        color: 'pink'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"rVOqS90pe6mSzXNS7XPJyu0hupQ=\", false, function () {\n  return [useQuery];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/kevin/Documents/GitHub/Iris_FrontEnd_Web/src/components/Login.js"],"names":["useState","React","graphql","gql","useQuery","Login","username","setUsername","password","setPassword","passwordIncorret","setPasswordIncorret","loading","error","data","isVerifiedUser","usersByNumber","Name","login","console","log","navigation","navigate","goToSignUp","flex","marginTop","textAlign","color","margin"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport React from 'react';\nimport { graphql } from '@apollo/react-hoc';\nimport { gql, useQuery } from '@apollo/client';\n\n\n\nfunction Login () {\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordIncorret, setPasswordIncorret] = useState(false);\n\n  const { loading, error, data } = useQuery(gql`\n  query {\n    usersByNumber(number : \"${username}\") {\n      Name\n      Number\n    } \n  },\n  `);\n\n\n  const isVerifiedUser = () => {\n    return data?.usersByNumber?.Name === password;\n  }\n\n  const login = () => {\n     console.log(\"username\",username,\"password\", password, data)\n    if (isVerifiedUser()) {\n      setPasswordIncorret(false);\n      navigation.navigate('Home');\n    } else {\n      setPasswordIncorret(true);\n    }\n  }\n  const goToSignUp = () => {\n    console.log(username);\n    console.log(password);\n    setPasswordIncorret(false);\n    navigation.navigate('SignUp');\n\n  }\n  return (\n    <div style={{ flex: 1, marginTop: '50%' }}>\n      <p style={{ textAlign: 'center' }}>\n        Insert username\n      </p>\n      <input \n        placeholder=\"pas\"\n        isRequired\n        value={username}\n        onChangeText={(username) => setUsername(username)}\n      />\n      <p style={{ textAlign: 'center' }}>\n        Insert password\n      </p>\n      <input\n        placeholder=\"username\"\n        secureTextEntry={true}\n        isRequired={true}\n        value={password}\n        onChangeText={(password) => setPassword(password)}\n        asterik />\n      {(passwordIncorret && <p style={{ textAlign: 'center',color: 'red'  }}>\n        password or username incorrect\n      </p>)}\n      <div style={{ margin: 12 }}>\n\n        <button\n          onPress={login}\n          title=\"Login\"\n          color={'pink'}\n        />\n      </div>\n      <div style={{ margin: 12 }}>\n        <button\n         \n          onPress={goToSignUp}\n          title=\"Sign up\"\n          color={'pink'}\n        />\n      </div>\n    </div>\n  );\n}\n\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}