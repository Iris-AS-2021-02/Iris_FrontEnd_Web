{"ast":null,"code":"var _jsxFileName = \"/home/kevin/Documents/GitHub/Iris_FrontEnd_Web/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport React from 'react';\nimport { graphql } from '@apollo/react-hoc';\nimport { gql, useQuery } from '@apollo/client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login(_ref) {\n  _s();\n\n  let {\n    navigation\n  } = _ref;\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordIncorret, setPasswordIncorret] = useState(false);\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(gql`\n  query {\n    usersByNumber(number : \"${username}\") {\n      Name\n      Number\n    } \n  },\n  `);\n\n  const isVerifiedUser = () => {\n    var _data$usersByNumber;\n\n    return (data === null || data === void 0 ? void 0 : (_data$usersByNumber = data.usersByNumber) === null || _data$usersByNumber === void 0 ? void 0 : _data$usersByNumber.Name) === password;\n  };\n\n  const login = () => {\n    console.log(\"username\", username, \"password\", password, data);\n\n    if (isVerifiedUser()) {\n      setPasswordIncorret(false);\n      navigation.navigate('Home');\n    } else {\n      setPasswordIncorret(true);\n    }\n  };\n\n  const goToSignUp = () => {\n    console.log(username);\n    console.log(password);\n    setPasswordIncorret(false);\n    navigation.navigate('SignUp');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Ingresa tu numero de telefono\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"numero\",\n      onChange: e => setUsername(e.target.value),\n      value: username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Ingresa tu nombre de usuario\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: \"username\",\n      onChange: e => setPassword(e.target.value),\n      value: password\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), passwordIncorret && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"password or username incorrect\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 29\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: login,\n        title: \"Login\",\n        color: 'pink',\n        children: \"Entra\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: goToSignUp,\n        title: \"Sign up\",\n        color: 'pink',\n        children: \"Registrate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"rVOqS90pe6mSzXNS7XPJyu0hupQ=\", false, function () {\n  return [useQuery];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/kevin/Documents/GitHub/Iris_FrontEnd_Web/src/components/Login.js"],"names":["useState","React","graphql","gql","useQuery","Login","navigation","username","setUsername","password","setPassword","passwordIncorret","setPasswordIncorret","loading","error","data","isVerifiedUser","usersByNumber","Name","login","console","log","navigate","goToSignUp","e","target","value"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,mBAAxB;AACA,SAASC,GAAT,EAAcC,QAAd,QAA8B,gBAA9B;;;AAEA,SAASC,KAAT,OAA+B;AAAA;;AAAA,MAAf;AAAEC,IAAAA;AAAF,GAAe;AAE7B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACW,gBAAD,EAAmBC,mBAAnB,IAA0CZ,QAAQ,CAAC,KAAD,CAAxD;AAEA,QAAM;AAAEa,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,MAA2BX,QAAQ,CAACD,GAAI;AAChD;AACA,8BAA8BI,QAAS;AACvC;AACA;AACA;AACA;AACA,GAP2C,CAAzC;;AAUA,QAAMS,cAAc,GAAG,MAAM;AAAA;;AAC3B,WAAO,CAAAD,IAAI,SAAJ,IAAAA,IAAI,WAAJ,mCAAAA,IAAI,CAAEE,aAAN,4EAAqBC,IAArB,MAA8BT,QAArC;AACD,GAFD;;AAIA,QAAMU,KAAK,GAAG,MAAM;AACjBC,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBd,QAAvB,EAAgC,UAAhC,EAA4CE,QAA5C,EAAsDM,IAAtD;;AACD,QAAIC,cAAc,EAAlB,EAAsB;AACpBJ,MAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACAN,MAAAA,UAAU,CAACgB,QAAX,CAAoB,MAApB;AACD,KAHD,MAGO;AACLV,MAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACD;AACF,GARD;;AASA,QAAMW,UAAU,GAAG,MAAM;AACvBH,IAAAA,OAAO,CAACC,GAAR,CAAYd,QAAZ;AACAa,IAAAA,OAAO,CAACC,GAAR,CAAYZ,QAAZ;AACAG,IAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACAN,IAAAA,UAAU,CAACgB,QAAX,CAAoB,QAApB;AAED,GAND;;AAOA,sBACE;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAIE;AACE,MAAA,WAAW,EAAC,QADd;AAEE,MAAA,QAAQ,EAAEE,CAAC,IAAKhB,WAAW,CAACgB,CAAC,CAACC,MAAF,CAASC,KAAV,CAF7B;AAGE,MAAA,KAAK,EAAEnB;AAHT;AAAA;AAAA;AAAA;AAAA,YAJF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAVF,eAaE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,WAAW,EAAC,UAFd;AAIE,MAAA,QAAQ,EAAEiB,CAAC,IAAKd,WAAW,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAJ7B;AAKE,MAAA,KAAK,EAAEjB;AALT;AAAA;AAAA;AAAA;AAAA,YAbF,EAoBIE,gBAAgB,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YApBxB,eAuBE;AAAA,6BAEE;AAAS,QAAA,OAAO,EAAEQ,KAAlB;AACE,QAAA,KAAK,EAAC,OADR;AAEE,QAAA,KAAK,EAAE,MAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,YAvBF,eA+BE;AAAA,6BACE;AAEE,QAAA,OAAO,EAAEI,UAFX;AAGE,QAAA,KAAK,EAAC,SAHR;AAIE,QAAA,KAAK,EAAE,MAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YA/BF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA4CD;;GAhFQlB,K;UAM0BD,Q;;;KAN1BC,K;AAmFT,eAAeA,KAAf","sourcesContent":["import { useState } from 'react';\nimport React from 'react';\nimport { graphql } from '@apollo/react-hoc';\nimport { gql, useQuery } from '@apollo/client';\n\nfunction Login ({ navigation }){\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordIncorret, setPasswordIncorret] = useState(false);\n\n  const { loading, error, data } = useQuery(gql`\n  query {\n    usersByNumber(number : \"${username}\") {\n      Name\n      Number\n    } \n  },\n  `);\n\n\n  const isVerifiedUser = () => {\n    return data?.usersByNumber?.Name === password;\n  }\n\n  const login = () => {\n     console.log(\"username\",username,\"password\", password, data)\n    if (isVerifiedUser()) {\n      setPasswordIncorret(false);\n      navigation.navigate('Home');\n    } else {\n      setPasswordIncorret(true);\n    }\n  }\n  const goToSignUp = () => {\n    console.log(username);\n    console.log(password);\n    setPasswordIncorret(false);\n    navigation.navigate('SignUp');\n\n  }\n  return (\n    <div >\n      <p >\n        Ingresa tu numero de telefono\n      </p>\n      <input \n        placeholder=\"numero\"\n        onChange={e  => setUsername(e.target.value)}\n        value={username}\n        \n      />\n      <p>\n        Ingresa tu nombre de usuario\n      </p>\n      <input\n        type='password'\n        placeholder=\"username\"\n        \n        onChange={e  => setPassword(e.target.value)}\n        value={password}\n        />\n      {(passwordIncorret && <p>\n        password or username incorrect\n      </p>)}\n      <div>\n\n        <button  onClick={login}\n          title=\"Login\"\n          color={'pink'}>\n         Entra\n          </button>\n      </div>\n      <div >\n        <button\n         \n          onClick={goToSignUp}\n          title=\"Sign up\"\n          color={'pink'}\n        >\n          Registrate\n          </button>\n      </div>\n    </div>\n  );\n}\n\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}